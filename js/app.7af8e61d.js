(function(){"use strict";var t={8503:function(t,e,a){var o=a(144),l=a(998),i=function(){var t=this,e=t._self._c;return e(l.Z,{attrs:{id:"app"}},[e("NavigationBar"),e("router-view")],1)},n=[],r=a(9669),s=a.n(r),c=a(6190),m=a(4145),d=a(266),u=a(2118),p=a(1713),b=a(7808),h=function(){var t=this,e=t._self._c;return e(u.Z,{attrs:{"align-content-center":""}},[e(m.Z,{staticClass:"mx-auto",attrs:{"max-width":"400"}},[e(p.Z,[e(d.Z,[t._v("LOGIN")])],1),e(p.Z,[e(d.Z,{staticClass:"mx-auto",attrs:{cols:"10"}},[e(b.Z,{attrs:{label:"Имя пользователя"}})],1)],1),e(p.Z,[e(d.Z,{staticClass:"mx-auto",attrs:{cols:"10"}},[e(b.Z,{attrs:{label:"Пароль"}})],1)],1),e(c.Z,{attrs:{color:"primary"}},[t._v("ВОЙТИ")])],1)],1)},f=[],Z=a(1001),D={},w=(0,Z.Z)(D,h,f,!1,null,null,null),v=w.exports,x=a(704),q=a(5550),k=a(3423),_=a(4324),g=a(5808),I=a(4525),R=a(5926),C=a(7912),y=a(4528),$=a(3687),T=a(2540),S=function(){var t=this,e=t._self._c;return e(x.Z,{attrs:{elevation:"4","max-height":"60px"}},[e(y.Z,{attrs:{transition:"slide-x-transition"},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(q.Z,t._g({},a))]}}])},[e(m.Z,{staticClass:"mx-auto",attrs:{width:"300",height:"100%"}},t._l(t.menuItems,(function(a){return e(g.Z,{attrs:{dense:""}},[e(T.Z,[t._v(t._s(a.nameBlock.toUpperCase()))]),e(C.Z,{attrs:{color:"primary"}},t._l(a.items,(function(a,o){return e(I.Z,{key:o},[e(R.km,[e("router-link",{attrs:{to:a.path}},[e(R.V9,{domProps:{textContent:t._s(a.nameItem)}})],1)],1)],1)})),1)],1)})),1)],1),e("img",{staticClass:"logo",attrs:{src:a(9815),alt:""}}),e($.Z),e(k.Z,{attrs:{color:"grey darken-1",size:"40"}},[e(_.Z,{attrs:{dark:""}},[t._v(" mdi-account-circle ")])],1)],1)},P=[],L=[{nameBlock:"Тех. обслуживание",items:[{nameItem:"Информация о работах",path:"/Maitanence/workList"}]},{nameBlock:"Логистика",items:[{nameItem:"План",path:"/Logistic/AVOPlaning"}]},{nameBlock:"Качество",items:[{nameItem:"Бланк QRCI",path:"/Quality/BlankQRCI"},{nameItem:"Список QRCI",path:"/Quality/ListQRCI"}]}],M={data:()=>({}),computed:{menuItems(){return L}}},A=M,N=(0,Z.Z)(A,S,P,!1,null,"fc1cac80",null),B=N.exports,O={components:{Login:v,NavigationBar:B}},U=O,Q=(0,Z.Z)(U,i,n,!1,null,null,null),F=Q.exports,K=a(8345),V=a(344),G=a(629),E=a(9223),j=a(6072),W=function(){var t=this,e=t._self._c;return e("div",[e(u.Z,[e("div",[e("h1",[t._v("Информация о проведенных аварийных работах")])]),e(E.Z),e(u.Z,[t.showNewTab?t._e():e(c.Z,{on:{click:function(e){t.showNewTab=!t.showNewTab}}},[t._v("+ ДОБАВИТЬ")]),t.showNewTab?e(u.Z,[e(p.Z,[e(d.Z,{attrs:{cols:"6"}},[e(V.Z,{attrs:{outlined:"",items:t.dataPack.productionShift,label:"Введите номер смены",dense:""},model:{value:t.workItem.productionShift,callback:function(e){t.$set(t.workItem,"productionShift",e)},expression:"workItem.productionShift"}})],1),e(d.Z,{attrs:{cols:"6"}},[e(V.Z,{attrs:{outlined:"",items:t.dataPack.production,label:"Введите производство",dense:""},model:{value:t.workItem.production,callback:function(e){t.$set(t.workItem,"production",e)},expression:"workItem.production"}})],1)],1),e(p.Z,[e(d.Z,{attrs:{cols:"6"}},[e(V.Z,{attrs:{outlined:"",items:t.dataPack.line,label:"Введите линию",dense:""},model:{value:t.workItem.line,callback:function(e){t.$set(t.workItem,"line",e)},expression:"workItem.line"}})],1),e(d.Z,{attrs:{cols:"6"}},[e(V.Z,{attrs:{outlined:"",items:t.dataPack.equipment,label:"Введите название оборудования",dense:""},model:{value:t.workItem.equipment,callback:function(e){t.$set(t.workItem,"equipment",e)},expression:"workItem.equipment"}})],1)],1),e(p.Z,[e(d.Z,{attrs:{cols:"4"}},[e("CalendarLine",{model:{value:t.workItem.date,callback:function(e){t.$set(t.workItem,"date",e)},expression:"workItem.date"}})],1),e(d.Z,{attrs:{cols:"4"}},[e(b.Z,{attrs:{outlined:"",label:'Продолжительность "в часах"',dense:""},model:{value:t.workItem.time,callback:function(e){t.$set(t.workItem,"time",e)},expression:"workItem.time"}})],1),e(d.Z,{attrs:{cols:"4"}},[e(b.Z,{attrs:{outlined:"",label:"Введите название узла",dense:""},model:{value:t.workItem.place,callback:function(e){t.$set(t.workItem,"place",e)},expression:"workItem.place"}})],1)],1),e(p.Z,[e(j.Z,{attrs:{outlined:"",name:"input-7-4",label:"Коренная причина",value:""},model:{value:t.workItem.rootCause,callback:function(e){t.$set(t.workItem,"rootCause",e)},expression:"workItem.rootCause"}})],1),e(p.Z,[e(j.Z,{attrs:{outlined:"",name:"input-7-4",label:"Комментарий",value:""},model:{value:t.workItem.comment,callback:function(e){t.$set(t.workItem,"comment",e)},expression:"workItem.comment"}})],1),e(p.Z,[e($.Z),e(c.Z,{on:{click:function(e){return t.pushNewTask()}}},[t._v("СОХРАНИТЬ")]),e($.Z),e(c.Z,{on:{click:function(e){return t.cancelTask()}}},[t._v("ОТМЕНИТЬ")]),e($.Z)],1)],1):t._e()],1),e(u.Z,[e(u.Z,{staticStyle:{padding:"10px",margin:"0 0 10px 0"}},[e(p.Z,[e(d.Z,{attrs:{cols:"5"}},[e(m.Z,{staticClass:"elevation-1"},[e(p.Z,[e(d.Z,{attrs:{cols:"1"}}),e(d.Z,{attrs:{cols:"10"}},[e("CalendarLinePeriod",{model:{value:t.period,callback:function(e){t.period=e},expression:"period"}})],1),e(d.Z,{attrs:{cols:"1"}})],1),e(p.Z,[e(d.Z,{attrs:{cols:"1"}}),e(d.Z,{attrs:{cols:"5"}},[e(c.Z,{on:{click:function(e){return t.sendPeriod()}}},[t._v("Фильтр по датам")])],1),e(d.Z,{attrs:{cols:"5"}},[e(c.Z,{on:{click:function(e){return t.sendPeriodReport()}}},[t._v("Выгрузить")])],1),e(d.Z,{attrs:{cols:"1"}})],1)],1)],1)],1)],1),[e(G.Z,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.worksList,"items-per-page":20}})]],2)],1)],1)},z=[],H=a(1030),Y=function(){var t=this,e=t._self._c;return e("div",[e(y.Z,{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(b.Z,t._g({attrs:{outlined:"",label:"Дата","prepend-icon":"mdi-calendar",readonly:"",dense:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(H.Z,{attrs:{locale:"RU-ru"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)},J=[],X={model:{prop:"date",event:"returnDate"},data(){return{date:null,menu:!1}},watch:{date(t,e){this.$emit("returnDate",this.date)}}},tt=X,et=(0,Z.Z)(tt,Y,J,!1,null,null,null),at=et.exports,ot=function(){var t=this,e=t._self._c;return e("div",[e(y.Z,{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(b.Z,t._g({attrs:{outlined:"",label:"Дата","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.dateRangeText,callback:function(e){t.dateRangeText=e},expression:"dateRangeText"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(H.Z,{attrs:{locale:"RU-ru",range:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)},lt=[],it={model:{prop:"date",event:"returnDate"},data(){return{date:["2022-09-10","2022-09-20"],menu:!1}},computed:{dateRangeText(){return console.log(this.date),this.date.join(" ~ ")}},watch:{date(t,e){this.$emit("returnDate",this.date)}}},nt=it,rt=(0,Z.Z)(nt,ot,lt,!1,null,null,null),st=rt.exports,ct={data(){return{headers:[{text:"Производство",value:"production",align:"center"},{text:"Линия",align:"center",value:"line"},{text:"Зона",align:"center",value:"equipment"},{text:"Смена",align:"center",value:"productionShift"},{text:"Дата",align:"center",value:"date"},{text:"Время заполнения",align:"center",value:"timeSave"},{text:"Продолжительность",align:"center",value:"time"},{text:"Узел",align:"center",value:"place"},{text:"Коренная причина",align:"center",value:"rootCause"},{text:"Комментарий",align:"center",value:"comment"}],showCalendar:!1,showNewTab:!1,dataPack:{productionShift:[1,2,3,4],production:["Триплекс","Закаленное стекло","AVO"],line:["BR-91","BR-92","AFS","BR-C1","BR-C2","BR-C3","BR-C8","BR-C9","BR-C10","BRV1","BRV2","AVO light","Экструзия","BR-L1","BR-L2","BR-L3","Печь молирования  Tamglass","BR-L4","BR-L6"],equipment:["Печатная машина","Печь","Накопитель","Моечная машина плоского стекла","Моечная машина гнутого стекла","Линия пакетирования","Пайка","Линия подпрессовки Nipper Roll","Линия приклейки опций","Конвейера стеклобоя","Машина раскройки пленки Stretch","Линия контроля и упаковки","Участок токообогрева","Шламовая станция","Линия разгрузки WOW","Термопластавтомат","Робот","Gerold 2011","Автоклав 1","Автоклав 2","Печь подпрессовки","Печать + Кугер","Пресса","Закалка","Турбины","Участок разгрузки","Участок загрузки","VSM","KSM1","KSM2","KSM3","PSM1","PSM2","PSM3","PBM1","PBM2","PBM3","Охлаждение","Транспортеры","Печь сушки IR","Печь сушки UV","Шкафы управления","Система микроклимата"]},workList:[],workItem:{productionShift:"",production:"",line:"",equipment:"",time:"",place:"",rootCause:"",comment:"",date:null,timeSave:""},period:["2022-09-10","2022-09-20"]}},mounted(){s().get("http://localhost:8000/Maitanence/workList").then((t=>this.workList=t.data))},methods:{sendPeriod(){let t=this;s().post("http://localhost:8000/Maitanence/workListPeriod",this.period).then((function(e){t.workList=e.data}))},sendPeriodReport(){let t=this;s().post("http://localhost:8000/Maitanence/workListPeriodReport",this.period).then((function(e){t.workList=e.data}))},pushNewTask(){this.workItem.timeSave=new Date;let t=this;s().post("http://localhost:8000/Maitanence/workList",this.workItem).then((function(e){t.workList=e.data})),this.workItem={productionShift:"",production:"",line:"",equipment:"",time:"",place:"",rootCause:"",comment:"",date:null,timeSave:""},this.date=null,this.showNewTab=!1},cancelTask(){this.workItem={productionShift:"",production:"",line:"",equipment:"",time:"",place:"",rootCause:"",comment:""},this.showNewTab=!1}},computed:{worksList(){let t=[];console.log(this.workList);for(let e=0;e<this.workList.length;e++)this.workList[e].work.forEach((a=>{a.date=this.workList[e].date,t.push(a)}));return t}},components:{CalendarLine:at,CalendarLinePeriod:st}},mt=ct,dt=(0,Z.Z)(mt,W,z,!1,null,null,null),ut=dt.exports,pt=a(9449),bt=a(626),ht=a(6456),ft=function(){var t=this,e=t._self._c;return e("div",[e(u.Z,[e("div",[e("h1",[t._v("Планирование AVO")])]),e(E.Z),t.showBlock?t._e():e(u.Z,[e(c.Z,{on:{click:function(e){t.showBlock=!0}}},[t._v("+ДОБАВИТЬ")])],1),t.showBlock?e(u.Z,[e(p.Z,[e(d.Z,{attrs:{cols:"3"}},[e("CalendarLine",{model:{value:t.formItem.date,callback:function(e){t.$set(t.formItem,"date",e)},expression:"formItem.date"}})],1),e(d.Z,{attrs:{cols:"3"}},[e(V.Z,{attrs:{outlined:"",items:t.productionArea,"item-text":"name","item-value":"id",label:"Участок"},model:{value:t.flowIndex,callback:function(e){t.flowIndex=e},expression:"flowIndex"}})],1),e(d.Z,{attrs:{cols:"3"}},[e(V.Z,{attrs:{outlined:"",items:t.flows,label:"Поток"},model:{value:t.formItem.productionFlow,callback:function(e){t.$set(t.formItem,"productionFlow",e)},expression:"formItem.productionFlow"}})],1)],1),e(p.Z,[e(d.Z,{attrs:{cols:"3"}},[e(V.Z,{attrs:{outlined:"",label:"Модель",items:t.data,"item-text":"model","item-value":"id"},model:{value:t.dataIndex,callback:function(e){t.dataIndex=e},expression:"dataIndex"}})],1),e(d.Z,{attrs:{cols:"3"}},[e(V.Z,{attrs:{outlined:"",label:"Артикль",items:t.articles,"item-text":"art","item-value":"art"},model:{value:t.formItem.article,callback:function(e){t.$set(t.formItem,"article",e)},expression:"formItem.article"}})],1)],1),e(p.Z,[e(d.Z,{attrs:{cols:"3"}},[e(b.Z,{attrs:{outlined:"",label:'Количество статуса "К"'},model:{value:t.formItem.quantityK,callback:function(e){t.$set(t.formItem,"quantityK",e)},expression:"formItem.quantityK"}})],1),e(d.Z,{attrs:{cols:"3"}},[e(b.Z,{attrs:{outlined:"",label:'Количество статуса "G"'},model:{value:t.formItem.quantityG,callback:function(e){t.$set(t.formItem,"quantityG",e)},expression:"formItem.quantityG"}})],1),e(d.Z,{attrs:{cols:"3"}},[e(b.Z,{attrs:{outlined:"",label:"Время наработки"},model:{value:t.formItem.productionTime,callback:function(e){t.$set(t.formItem,"productionTime",e)},expression:"formItem.productionTime"}})],1),e(d.Z,{attrs:{cols:"3"}},[e(b.Z,{attrs:{outlined:"",label:"Последующие действия"},model:{value:t.formItem.nextStep,callback:function(e){t.$set(t.formItem,"nextStep",e)},expression:"formItem.nextStep"}})],1)],1),e(p.Z,[e($.Z),e(c.Z,{on:{click:function(e){return t.pushNewTask()}}},[t._v("СОХРАНИТЬ")]),e($.Z),e(c.Z,{on:{click:function(e){return t.cancelTask()}}},[t._v("ОТМЕНИТЬ")]),e($.Z)],1)],1):t._e(),e(u.Z,[e(p.Z,[e(d.Z,[e("h2",[t._v("Запланированные работы ")])])],1),e(p.Z,{staticStyle:{margin:"0 0 30px 0"}},[e($.Z),e(d.Z,[e(c.Z,{on:{click:function(e){return t.changeDate(-1)}}},[e(_.Z,[t._v("mdi-chevron-left")])],1)],1),e($.Z),e(d.Z,[e("h2",[t._v(t._s(t.chooseDate.toLocaleDateString("ru"))+"г.")])]),e($.Z),e(d.Z,[e(c.Z,{on:{click:function(e){return t.changeDate(1)}}},[e(_.Z,[t._v("mdi-chevron-right")])],1)],1),e($.Z)],1),e(x.Z,{attrs:{elevation:"4",height:"50px"},scopedSlots:t._u([{key:"extension",fn:function(){return[e(ht.Z,{attrs:{"align-with-title":""}},t._l(t.productionArea[t.choosenIndex].flows,(function(a,o){return e(bt.Z,{key:o,on:{click:function(e){t.flowNumber=o}}},[t._v(" "+t._s(o+1)+"й поток ")])})),1)]},proxy:!0}])},[[e(ht.Z,{attrs:{"align-with-title":""}},t._l(t.productionArea,(function(a,o){return e(bt.Z,{key:o,on:{click:function(e){t.choosenIndex=o}}},[t._v(" "+t._s(a.name))])})),1)]],2),e(pt.Z,{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-center"},[t._v(" Модель ")]),e("th",{staticClass:"text-center"},[t._v(" Артикль ")]),e("th",{staticClass:"text-center"},[t._v(' "К" ')]),e("th",{staticClass:"text-center"},[t._v(' "G" ')]),e("th",{staticClass:"text-center"},[t._v(" Планируемое время ")]),e("th",{staticClass:"text-center"},[t._v(" Следующие шаги ")])])]),e("tbody",t._l(t.tableData,(function(a){return e("tr",{key:a.article},["---"===a.model?e("td",[t._v(" --- ")]):t._e(),"---"!=a.model?e("td",[t._v(t._s(t.data[a.model-1].model))]):t._e(),e("td",[t._v(t._s(a.article))]),e("td",[t._v(t._s(a.quantityK))]),e("td",[t._v(t._s(a.quantityG))]),e("td",[t._v(t._s(a.productionTime))]),e("td",[t._v(t._s(a.nextStep))])])})),0)]},proxy:!0}])})],1)],1)],1)},Zt=[],Dt={components:{CalendarLine:at},data(){return{flowNumber:0,chooseDate:new Date,flowIndex:1,dataIndex:1,data:null,choosenIndex:0,showBlock:!1,productionArea:[{id:1,name:"Опции",flows:[1,2,3,4]},{id:2,name:"Линза",flows:[1,2,3]},{id:3,name:"Экструзия",flows:[1,2]},{id:4,name:"Пайка",flows:[1,2,3,4,5,6]},{id:5,name:"Manual",flows:[1,2,3]},{id:6,name:"Кировец",flows:[1,2,3]},{id:7,name:"Kostal",flows:[1,2,3]}],productionPlan:[{productionArea:"Опции",flows:[{model:"",productionTime:""},{model:"",productionTime:""},{model:"",productionTime:""},{model:"",productionTime:""}]},{productionArea:"Линза",flows:[{model:"",productionTime:""},{model:"",productionTime:""},{model:"",productionTime:""}]},{productionArea:"Экструзия",flows:[{model:"",productionTime:""},{model:"",productionTime:""}]},{productionArea:"Пайка",flows:[{model:"",productionTime:""},{model:"",productionTime:""},{model:"",productionTime:""},{model:"",productionTime:""},{model:"",productionTime:""},{model:"",productionTime:""}]},{productionArea:"Manual",flows:[{model:"",productionTime:""},{model:"",productionTime:""},{model:"",productionTime:""}]},{productionArea:"Кировец",flows:[{model:"",productionTime:""},{model:"",productionTime:""},{model:"",productionTime:""}]},{productionArea:"Kostal",flows:[{model:"",productionTime:""},{model:"",productionTime:""},{model:"",productionTime:""}]}],formItem:{date:null,productionArea:"",productionFlow:"",modelId:"",article:"",quantityK:"",quantityG:"",productionTime:"",nextStep:""}}},mounted(){s().get("http://localhost:8000/Models").then((t=>this.data=t.data)).catch((function(t){console.log(t)})).then((function(){})),s().get("http://localhost:8000/AVOPlaning").then((t=>this.productionPlan=t.data)).catch((function(t){console.log(t)})).then((function(){}))},computed:{articles(){let t=null;return this.data.forEach((e=>{Number(e.id)===Number(this.dataIndex)&&(t=e.articles)})),t},flows(){return this.productionArea[this.flowIndex-1].flows},tableData(){let t=this.productionPlan[this.choosenIndex].flows[this.flowNumber];return t}},methods:{pushNewTask(){this.formItem.date=String(this.formItem.date),this.formItem.productionArea=this.productionArea[this.flowIndex-1].id-1,this.formItem.modelId=this.data[this.dataIndex-1].id,this.formItem.productionFlow=this.formItem.productionFlow-1;let t=this;s().post("http://localhost:8000/AVOPlaning",this.formItem).then((function(e){t.productionPlan=e.data})),this.formItem={date:null,productionArea:"",productionFlow:"",modelId:"",article:"",quantityK:"",quantityG:"",productionTime:"",nextStep:""},this.showBlock=!1,console.log(this.productionPlan)},cancelTask(){this.formItem={date:null,productionArea:"",productionFlow:"",modelId:"",article:"",quantityK:"",quantityG:"",productionTime:"",nextStep:""},this.showBlock=!1},changeDate(t){this.chooseDate=this.chooseDate.setDate(this.chooseDate.getDate()+t),this.chooseDate=new Date(this.chooseDate);let e={};e.date=this.chooseDate;let a=this;s().post("http://localhost:8000/AVOPlaningDate",e).then((function(t){a.productionPlan=t.data}))}},watch:{flowNumber(){return this.flowNumber},showBlock(){return this.showBlock},tableData(){return this.tableData}}},wt=Dt,vt=(0,Z.Z)(wt,ft,Zt,!1,null,null,null),xt=vt.exports,qt=a(9930),kt=a(9592),_t=function(){var t=this,e=t._self._c;return e(u.Z,[e(p.Z,[e(d.Z,{attrs:{cols:"1"}},[e(y.Z,{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(_.Z,t._g({},a),[t._v("mdi-cog-outline")])]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(u.Z,{on:{click:function(e){return t.edit()}}},[t._v("редактировать")])],1)],1),e($.Z),e(d.Z,{attrs:{cols:"8"}},[e("h1",[t._v("Протокол работы команды улучшения "+t._s(t.qrciData.number))])]),e($.Z),e(d.Z,{attrs:{cols:"3"}},[e(p.Z,[e(d.Z,{attrs:{cols:"4"}},[t._v("Дата открытия:")]),e(d.Z,{attrs:{cols:"8"}},[e("CalendarLine",{model:{value:t.qrciData.dateOpen,callback:function(e){t.$set(t.qrciData,"dateOpen",e)},expression:"qrciData.dateOpen"}})],1)],1)],1)],1),e(u.Z,{staticClass:"elevation-1",staticStyle:{"font-size":"14px"}},[e(p.Z,[e(d.Z,{attrs:{cols:"2"}},[t._v("Производство")]),e(d.Z,{attrs:{cols:"4"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.departments,"item-text":"name","item-value":"idDepart"},model:{value:t.qrciData.department,callback:function(e){t.$set(t.qrciData,"department",e)},expression:"qrciData.department"}})],1),e($.Z)],1),e(p.Z,[e(d.Z,{attrs:{cols:"2"}},[t._v("Лидер команды")]),e(d.Z,{attrs:{cols:"4"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.userName,"item-text":"name","item-value":"idUser"},model:{value:t.qrciData.lider,callback:function(e){t.$set(t.qrciData,"lider",e)},expression:"qrciData.lider"}})],1),e(d.Z,{attrs:{cols:"2"}},[t._v("Участники")]),e(d.Z,{attrs:{cols:"4"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.userName,"item-text":"name","item-value":"idUser",multiple:""},model:{value:t.qrciData.team,callback:function(e){t.$set(t.qrciData,"team",e)},expression:"qrciData.team"}})],1)],1),e(p.Z,[e(d.Z,{attrs:{cols:"2"}},[t._v("Спонсор команды")]),e(d.Z,{attrs:{cols:"4"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.userName,"item-text":"name","item-value":"idUser"},model:{value:t.qrciData.sponsor,callback:function(e){t.$set(t.qrciData,"sponsor",e)},expression:"qrciData.sponsor"}})],1),e(d.Z,{attrs:{cols:"2"}},[t._v("Классификация проблемы")]),e(d.Z,{attrs:{cols:"4"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.problems,"item-text":"name","item-value":"id"},model:{value:t.problemIndex,callback:function(e){t.problemIndex=e},expression:"problemIndex"}})],1)],1),e(p.Z,[e(d.Z,{attrs:{cols:"2"}},[t._v("Формулировка проблемы")]),0===t.problemIndex?e(d.Z,{attrs:{cols:"10"}},[e(b.Z,{attrs:{outlined:"",dense:""},model:{value:t.problemText,callback:function(e){t.problemText=e},expression:"problemText"}})],1):t._e(),1===t.problemIndex?[e(d.Z,{attrs:{cols:"2"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.models,"item-text":"model","item-value":"id"},model:{value:t.indexModel,callback:function(e){t.indexModel=e},expression:"indexModel"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.models[t.indexModel-1].articles,"item-text":"art","item-value":"id"},model:{value:t.qrciData.problem.problemData.article,callback:function(e){t.$set(t.qrciData.problem.problemData,"article",e)},expression:"qrciData.problem.problemData.article"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Участок"},model:{value:t.qrciData.problem.problemData.place,callback:function(e){t.$set(t.qrciData.problem.problemData,"place",e)},expression:"qrciData.problem.problemData.place"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Дефект"},model:{value:t.qrciData.problem.problemData.defect,callback:function(e){t.$set(t.qrciData.problem.problemData,"defect",e)},expression:"qrciData.problem.problemData.defect"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Количество"},model:{value:t.qrciData.problem.problemData.quantity,callback:function(e){t.$set(t.qrciData.problem.problemData,"quantity",e)},expression:"qrciData.problem.problemData.quantity"}})],1)]:t._e(),2===t.problemIndex?[e(d.Z,{attrs:{cols:"4"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.KUProblems,label:"вид простоя","item-text":"name","item-value":"id"},model:{value:t.qrciData.problem.problemData.downtime,callback:function(e){t.$set(t.qrciData.problem.problemData,"downtime",e)},expression:"qrciData.problem.problemData.downtime"}})],1),e(d.Z,{attrs:{cols:"3"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Участок"},model:{value:t.qrciData.problem.problemData.place,callback:function(e){t.$set(t.qrciData.problem.problemData,"place",e)},expression:"qrciData.problem.problemData.place"}})],1),e(d.Z,{attrs:{cols:"3"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Время в минутах"},model:{value:t.qrciData.problem.problemData.time,callback:function(e){t.$set(t.qrciData.problem.problemData,"time",e)},expression:"qrciData.problem.problemData.time"}})],1)]:t._e(),3===t.problemIndex?[e(d.Z,{attrs:{cols:"5"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.models,"item-text":"model","item-value":"id"},model:{value:t.indexModel,callback:function(e){t.indexModel=e},expression:"indexModel"}})],1),e(d.Z,{attrs:{cols:"5"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.models[t.indexModel-1].articles,"item-text":"art","item-value":"id"},model:{value:t.qrciData.problem.problemData.article,callback:function(e){t.$set(t.qrciData.problem.problemData,"article",e)},expression:"qrciData.problem.problemData.article"}})],1)]:t._e(),4===t.problemIndex?[e(d.Z,{attrs:{cols:"3"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.models,"item-text":"model","item-value":"id"},model:{value:t.indexModel,callback:function(e){t.indexModel=e},expression:"indexModel"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.models[t.indexModel-1].articles,"item-text":"art","item-value":"id"},model:{value:t.qrciData.problem.problemData.article,callback:function(e){t.$set(t.qrciData.problem.problemData,"article",e)},expression:"qrciData.problem.problemData.article"}})],1),e(d.Z,{attrs:{cols:"3"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Дефект"},model:{value:t.qrciData.problem.problemData.defect,callback:function(e){t.$set(t.qrciData.problem.problemData,"defect",e)},expression:"qrciData.problem.problemData.defect"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Количество"},model:{value:t.qrciData.problem.problemData.quantity,callback:function(e){t.$set(t.qrciData.problem.problemData,"quantity",e)},expression:"qrciData.problem.problemData.quantity"}})],1)]:t._e()],2),e(p.Z,[e(d.Z,{attrs:{cols:"2"}},[t._v("Эта проблема может быть с другими заготовками или артиклями")]),e(d.Z,{attrs:{cols:"4"}},[e(b.Z,{attrs:{outlined:"",dense:""},model:{value:t.qrciData.anotherArticle,callback:function(e){t.$set(t.qrciData,"anotherArticle",e)},expression:"qrciData.anotherArticle"}})],1),e(d.Z,{attrs:{cols:"2"}},[t._v("Место и причины НЕОБНАРУЖЕНИЯ несоответствия")]),e(d.Z,{attrs:{cols:"4"}},[e(b.Z,{attrs:{outlined:"",dense:""},model:{value:t.qrciData.place,callback:function(e){t.$set(t.qrciData,"place",e)},expression:"qrciData.place"}})],1)],1),e(p.Z,[e(d.Z,{attrs:{cols:"2"}},[t._v("Коренные причины ВОЗНИКНОВЕНИЯ несоответствия")]),e(d.Z,{attrs:{cols:"10"}},[e(b.Z,{attrs:{outlined:"",dense:""},model:{value:t.qrciData.rootCause,callback:function(e){t.$set(t.qrciData,"rootCause",e)},expression:"qrciData.rootCause"}})],1)],1)],1),e(u.Z,{staticClass:"elevation-1"},[e(ht.Z,{attrs:{"align-with-title":""}},[e(bt.Z,[t._v("ПРОТОКОЛ")]),e(bt.Z,[t._v("5WHY")])],1)],1),e(u.Z,{staticClass:"elevation-1"},[e(p.Z,{staticStyle:{margin:"10px 0 0 0"}},[t.showInputRow?t._e():e(c.Z,{staticClass:"mx-auto",on:{click:function(e){t.showInputRow=!0}}},[t._v("+ДОБАВИТЬ")]),t.showInputRow?e(c.Z,{staticClass:"mx-auto",on:{click:function(e){return t.pushNewRow()}}},[t._v("СОХРАНИТЬ")]):t._e()],1),t.showInputRow?e(p.Z,[e(p.Z,[e(d.Z,{attrs:{cols:"4"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Тема"},model:{value:t.newRow.theme,callback:function(e){t.$set(t.newRow,"theme",e)},expression:"newRow.theme"}})],1),e(d.Z,{attrs:{cols:"4"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Действие"},model:{value:t.newRow.action,callback:function(e){t.$set(t.newRow,"action",e)},expression:"newRow.action"}})],1),e(d.Z,{attrs:{cols:"4"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.userName,"item-text":"name","item-value":"idUser"},model:{value:t.newRow.responsible,callback:function(e){t.$set(t.newRow,"responsible",e)},expression:"newRow.responsible"}})],1)],1),e(p.Z,[e(d.Z,{attrs:{cols:"2"}},[e("CalendarLine",{model:{value:t.newRow.date,callback:function(e){t.$set(t.newRow,"date",e)},expression:"newRow.date"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"%"},model:{value:t.newRow.percent,callback:function(e){t.$set(t.newRow,"percent",e)},expression:"newRow.percent"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.statuses,"item-text":"title","item-value":"{item.title, item.index}"},model:{value:t.newRow.status,callback:function(e){t.$set(t.newRow,"status",e)},expression:"newRow.status"}})],1),e(d.Z,{attrs:{cols:"6"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Примечание/Результат"},model:{value:t.newRow.comment,callback:function(e){t.$set(t.newRow,"comment",e)},expression:"newRow.comment"}})],1)],1)],1):t._e(),e(p.Z,[e(d.Z,{attrs:{cols:"12"}},[e(G.Z,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.qrciData.qrciRows,"items-per-page":20},scopedSlots:t._u([{key:"item.percent",fn:function({item:a}){return[e(kt.Z,{attrs:{height:"25"},model:{value:a.percent,callback:function(e){t.$set(a,"percent",e)},expression:"item.percent"}},[e("strong",[t._v(t._s(Math.ceil(a.percent))+"%")])])]}},{key:"item.actions",fn:function({item:a}){return[e(qt.Z,{attrs:{width:"500px"},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return[e(_.Z,t._g({staticClass:"mr-2",staticStyle:{"margin-right":"10px"},attrs:{small:""},on:{click:function(e){t.numStr=a.id}}},o),[t._v(" mdi-file-image-plus-outline ")])]}}],null,!0),model:{value:t.photoDialog,callback:function(e){t.photoDialog=e},expression:"photoDialog"}},[e(m.Z,[e("label",[t._v("File "),e("input",{ref:"file",attrs:{type:"file",id:"file"},on:{change:function(e){return t.handleFileUpload()}}})]),e(c.Z,{on:{click:function(e){return t.submitFile()}}},[t._v("Загрузить")])],1)],1),e(_.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v(" mdi-pencil ")])]}}])})],1)],1),e(p.Z,[e($.Z),e(d.Z,{attrs:{cols:"2"}},[e(c.Z,{on:{click:function(e){return t.saveQRCI()}}},[t._v("СОХРАНИТЬ")])],1),e($.Z),e(d.Z,{attrs:{cols:"2"}},[e(c.Z,[t._v("ОТМЕНИТЬ")])],1),e($.Z)],1)],1)],1)},gt=[],It={data(){return{date:null,file:"",photoDialog:!1,users:[],menu:!1,models:[],showInputRow:!1,indexModel:1,numStr:0,problemIndex:0,problemText:"",statuses:[{title:"В работе",index:0},{title:"Завершено",index:2}],problems:[{name:"Прочее",id:0},{name:"NRFT",id:1},{name:"KU",id:2},{name:"CAD",id:3},{name:"Качество",id:4}],KUProblems:[{name:"аварийный простой",id:0},{name:"настройка линии",id:1},{name:"переход",id:2}],departments:[{name:"Закаленное стекло",idDepart:0},{name:"Триплекс",idDepart:1},{name:"ARG",idDepart:2},{name:"AVO",idDepart:3},{name:"БРЛ-6",idDepart:4},{name:"Тех. обслуживание",idDepart:5}],headers:[{text:"Тема",align:"center",value:"theme"},{text:"Действия",align:"center",value:"action"},{text:"Ответственный",align:"center",value:"responsible"},{text:"Дата",align:"center",value:"date"},{text:"Выполнение",align:"center",value:"percent"},{text:"Статус",align:"center",value:"status.title"},{text:"Коментарий",align:"center",value:"comment"},{text:"Действие",align:"center",value:"actions"}],newRow:{id:"",theme:"",action:"",responsible:"",date:"",percent:"",status:{title:"В работе",index:0},photos:[],comment:"",newPhotos:[]},qrciData:{department:"",number:"",dateOpen:"",lider:"",team:"",sponsor:"",problemClassification:"",problem:{problemIndex:1,problemData:{model:"",article:"",place:"",defect:"",quantity:"",time:"",downtime:"",problemText:""}},anotherArticle:"",place:"",rootCause:"",qrciRows:[],dateClose:"",status:{title:"Открыт",index:0}}}},mounted(){s().get("http://localhost:8000/Users").then((t=>this.users=t.data)),s().get("http://localhost:8000/Models").then((t=>this.models=t.data))},methods:{saveQRCI(){this.qrciData.problem.problemData.model=this.indexModel,0===this.problemIndex?this.qrciData.problem.problemData.problemText=this.problemText:1===this.problemIndex?this.qrciData.problem.problemData.problemText=this.models[this.qrciData.problem.problemData.model-1].model+" "+this.qrciData.problem.problemData.article+" "+this.qrciData.problem.problemData.defect+" на участке "+this.qrciData.problem.problemData.place+" в количестве "+this.qrciData.problem.problemData.quantity+"шт":2===this.problemIndex?this.qrciData.problem.problemData.problemText=this.KUProblems[this.qrciData.problem.problemData.downtime].name+" на участке "+this.qrciData.problem.problemData.place+" в количестве "+this.qrciData.problem.problemData.time+" мин.":3===this.problemIndex?this.qrciData.problem.problemData.problemText="Низкая производительность на "+this.models[this.qrciData.problem.problemData.model-1].model+" "+this.qrciData.problem.problemData.article:4===this.problemIndex&&(this.qrciData.problem.problemData.problemText=this.models[this.qrciData.problem.problemData.model-1].model+" "+this.qrciData.problem.problemData.article+" "+this.qrciData.problem.problemData.defect+" в количестве "+this.qrciData.problem.problemData.quantity+"шт"),this.qrciData.problemClassification=this.problems[this.problemIndex],s().post("http://localhost:8000/Quality/NewQrci",this.qrciData)},pushNewRow(){""!=this.newRow.id?this.qrciData.qrciRows[this.newRow.id]=this.newRow:0===this.newRow.id?this.qrciData.qrciRows[0]=this.newRow:(this.newRow.id=this.qrciData.qrciRows.length,this.qrciData.qrciRows.push(this.newRow)),this.newRow={id:"",theme:"",action:"",responsible:"",date:"",percent:"",status:"",comment:"",status:{title:"В работе",index:0},photos:[],newPhotos:[]},this.showInputRow=!1},submitFile(){let t=new FormData;this.qrciData.qrciRows[this.numStr].photos.push({row:this.numStr,title:this.file.name}),t.append("file",this.file),s().post("http://localhost:8000/single-file",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){console.log("SUCCESS!!")})).catch((function(){console.log("FAILURE!!")})),this.file="",this.photoDialog=!1},handleFileUpload(){this.file=this.$refs.file.files[0],console.log(this.file)},editItem(t){this.newRow=t,this.showInputRow=!0}},computed:{userName(){let t=[];return this.users.forEach((e=>{t.push({name:e.sirname+" "+e.name,id:e.idUser})})),t}},components:{CalendarLine:at}},Rt=It,Ct=(0,Z.Z)(Rt,_t,gt,!1,null,null,null),yt=Ct.exports,$t=function(){var t=this,e=t._self._c;return e(u.Z,[e(p.Z,[e($.Z),e(d.Z,{attrs:{cols:"8"}},[e("h1",[t._v("Перечень протоколов улучшения")])]),e($.Z)],1),e(u.Z,{staticClass:"elevation-1"},[e(ht.Z,{attrs:{"align-with-title":""}},t._l(t.qrciList,(function(a,o){return e(bt.Z,{key:o,on:{click:function(e){t.chooseDepartment=o}}},[t._v(t._s(a.department))])})),1)],1),e(u.Z,[e(G.Z,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.qrciList[t.chooseDepartment].qrciList,"items-per-page":20},scopedSlots:t._u([{key:"item.status.title",fn:function({item:a}){return[t._v(" "+t._s(a.status.title)+" "),e(qt.Z,{attrs:{width:"800"},scopedSlots:t._u([{key:"activator",fn:function({on:o,attrs:l}){return[e("v-span",{directives:[{name:"show",rawName:"v-show",value:1===a.status.index,expression:"item.status.index===1"}]},[e(_.Z,t._g({staticClass:"mr-2",attrs:{small:"",color:"red"},on:{click:function(e){t.rowQrci=a.qrciRows}}},o),[t._v(" mdi-alert-outline ")])],1)]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(pt.Z,{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v(" Действия ")]),e("th",{staticClass:"text-left"},[t._v(" Ответственный ")]),e("th",{staticClass:"text-left"},[t._v(" Дата ")]),e("th",{staticClass:"text-left"},[t._v(" Статус ")]),e("th",{staticClass:"text-left"},[t._v(" Комментарий ")])])]),e("tbody",t._l(t.rowQrci,(function(a,o){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.action))]),e("td",[t._v(t._s(a.responsible))]),e("td",[t._v(t._s(a.date))]),e("td",[t._v(t._s(a.status.title)+" "),e("v-span",{directives:[{name:"show",rawName:"v-show",value:1===a.status.index,expression:"elem.status.index===1"}]},[e(_.Z,{staticClass:"mr-2",attrs:{small:"",color:"red"}},[t._v(" mdi-alert-outline ")])],1)],1),e("td",[t._v(t._s(a.comment))])])})),0)]},proxy:!0}],null,!0)})],1)]}},{key:"item.actions",fn:function({item:a}){return[e(_.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v(" mdi-pencil ")])]}}])})],1)],1)},Tt=[],St={data(){return{qrciList:[],rowQrci:null,chooseDepartment:0,headers:[{text:"Номер",align:"center",value:"number"},{text:"Класс. проблемы",align:"center",value:"problemClassification.name"},{text:"Формулировка проблемы",align:"center",value:"problem.problemData.problemText"},{text:"Спонсор",align:"center",value:"sponsor"},{text:"Лидер",align:"center",value:"lider"},{text:"Дата открытия",align:"center",value:"dateOpen"},{text:"Статус",align:"center",value:"status.title"},{text:"Действие",align:"center",value:"actions"}]}},mounted(){s().get("http://localhost:8000/Quality/qrciList").then((t=>this.qrciList=t.data))},methods:{editItem(t){let e="/Quality/Department/"+this.chooseDepartment+"/QRCI/"+t.number;this.$router.push({path:e,params:{depart:"depart",id:"id"}})}}},Pt=St,Lt=(0,Z.Z)(Pt,$t,Tt,!1,null,null,null),Mt=Lt.exports,At=a(8255),Nt=a(6760),Bt=function(){var t=this,e=t._self._c;return e(u.Z,[e(p.Z,[e(d.Z,{attrs:{cols:"1"}},[e(y.Z,{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(_.Z,t._g({},a),[t._v("mdi-cog-outline")])]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(u.Z,{on:{click:function(e){return t.edit()}}},[t._v("редактировать")])],1)],1),e($.Z),e(d.Z,{attrs:{cols:"8"}},[e("h1",[t._v("Протокол работы команды улучшения "+t._s(t.qrciData.number))])]),e($.Z),e(d.Z,{attrs:{cols:"3"}},[e(p.Z,[e(d.Z,{attrs:{cols:"4"}},[t._v("Дата открытия:")]),e(d.Z,{attrs:{cols:"8"}},[e(b.Z,{attrs:{disabled:"",outlined:"",dense:""},model:{value:t.qrciData.dateOpen,callback:function(e){t.$set(t.qrciData,"dateOpen",e)},expression:"qrciData.dateOpen"}})],1)],1)],1)],1),e(u.Z,{staticClass:"elevation-1",staticStyle:{"font-size":"14px"}},[e(p.Z,[e(d.Z,{attrs:{cols:"2"}},[t._v("Производство")]),e(d.Z,{attrs:{cols:"4"}},[e(b.Z,{attrs:{disabled:"",outlined:"",dense:""},model:{value:t.departments[t.qrciData.department].name,callback:function(e){t.$set(t.departments[t.qrciData.department],"name",e)},expression:"departments[qrciData.department].name"}})],1),e($.Z)],1),e(p.Z,[e(d.Z,{attrs:{cols:"2"}},[t._v("Лидер команды")]),e(d.Z,{attrs:{cols:"4"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.userName,"item-text":"name","item-value":"idUser"},model:{value:t.qrciData.lider,callback:function(e){t.$set(t.qrciData,"lider",e)},expression:"qrciData.lider"}})],1),e(d.Z,{attrs:{cols:"2"}},[t._v("Участники")]),e(d.Z,{attrs:{cols:"4"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.userName,"item-text":"name","item-value":"idUser",multiple:""},model:{value:t.qrciData.team,callback:function(e){t.$set(t.qrciData,"team",e)},expression:"qrciData.team"}})],1)],1),e(p.Z,[e(d.Z,{attrs:{cols:"2"}},[t._v("Спонсор команды")]),e(d.Z,{attrs:{cols:"4"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.userName,"item-text":"name","item-value":"idUser"},model:{value:t.qrciData.sponsor,callback:function(e){t.$set(t.qrciData,"sponsor",e)},expression:"qrciData.sponsor"}})],1),e(d.Z,{attrs:{cols:"2"}},[t._v("Классификация проблемы")]),e(d.Z,{attrs:{cols:"4"}},[e(b.Z,{attrs:{disabled:"",outlined:"",dense:""},model:{value:t.qrciData.problemClassification.name,callback:function(e){t.$set(t.qrciData.problemClassification,"name",e)},expression:"qrciData.problemClassification.name"}})],1)],1),e(p.Z,[e(d.Z,{attrs:{cols:"2"}},[t._v("Формулировка проблемы")]),0===t.qrciData.problemClassification.id?e(d.Z,{attrs:{cols:"10"}},[e(b.Z,{attrs:{outlined:"",dense:""},model:{value:t.problemText,callback:function(e){t.problemText=e},expression:"problemText"}})],1):t._e(),1===t.qrciData.problemClassification.id?[e(d.Z,{attrs:{cols:"2"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.models,"item-text":"model","item-value":"id"},model:{value:t.qrciData.problem.problemData.model,callback:function(e){t.$set(t.qrciData.problem.problemData,"model",e)},expression:"qrciData.problem.problemData.model"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.models[t.indexModel-1].articles,"item-text":"art","item-value":"id"},model:{value:t.qrciData.problem.problemData.article,callback:function(e){t.$set(t.qrciData.problem.problemData,"article",e)},expression:"qrciData.problem.problemData.article"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Участок"},model:{value:t.qrciData.problem.problemData.place,callback:function(e){t.$set(t.qrciData.problem.problemData,"place",e)},expression:"qrciData.problem.problemData.place"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Дефект"},model:{value:t.qrciData.problem.problemData.defect,callback:function(e){t.$set(t.qrciData.problem.problemData,"defect",e)},expression:"qrciData.problem.problemData.defect"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Количество"},model:{value:t.qrciData.problem.problemData.quantity,callback:function(e){t.$set(t.qrciData.problem.problemData,"quantity",e)},expression:"qrciData.problem.problemData.quantity"}})],1)]:t._e(),2===t.qrciData.problemClassification.id?[e(d.Z,{attrs:{cols:"4"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.KUProblems,label:"вид простоя","item-text":"name","item-value":"id"},model:{value:t.qrciData.problem.problemData.downtime,callback:function(e){t.$set(t.qrciData.problem.problemData,"downtime",e)},expression:"qrciData.problem.problemData.downtime"}})],1),e(d.Z,{attrs:{cols:"3"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Участок"},model:{value:t.qrciData.problem.problemData.place,callback:function(e){t.$set(t.qrciData.problem.problemData,"place",e)},expression:"qrciData.problem.problemData.place"}})],1),e(d.Z,{attrs:{cols:"3"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Время в минутах"},model:{value:t.qrciData.problem.problemData.time,callback:function(e){t.$set(t.qrciData.problem.problemData,"time",e)},expression:"qrciData.problem.problemData.time"}})],1)]:t._e(),3===t.qrciData.problemClassification.id?[e(d.Z,{attrs:{cols:"5"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.models,"item-text":"model","item-value":"id"},model:{value:t.qrciData.problem.problemData.model,callback:function(e){t.$set(t.qrciData.problem.problemData,"model",e)},expression:"qrciData.problem.problemData.model"}})],1),e(d.Z,{attrs:{cols:"5"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.models[t.indexModel-1].articles,"item-text":"art","item-value":"id"},model:{value:t.qrciData.problem.problemData.article,callback:function(e){t.$set(t.qrciData.problem.problemData,"article",e)},expression:"qrciData.problem.problemData.article"}})],1)]:t._e(),4===t.qrciData.problemClassification.id?[e(d.Z,{attrs:{cols:"3"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.models,"item-text":"model","item-value":"id"},model:{value:t.qrciData.problem.problemData.model,callback:function(e){t.$set(t.qrciData.problem.problemData,"model",e)},expression:"qrciData.problem.problemData.model"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.models[t.indexModel-1].articles,"item-text":"art","item-value":"id"},model:{value:t.qrciData.problem.problemData.article,callback:function(e){t.$set(t.qrciData.problem.problemData,"article",e)},expression:"qrciData.problem.problemData.article"}})],1),e(d.Z,{attrs:{cols:"3"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Дефект"},model:{value:t.qrciData.problem.problemData.defect,callback:function(e){t.$set(t.qrciData.problem.problemData,"defect",e)},expression:"qrciData.problem.problemData.defect"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Количество"},model:{value:t.qrciData.problem.problemData.quantity,callback:function(e){t.$set(t.qrciData.problem.problemData,"quantity",e)},expression:"qrciData.problem.problemData.quantity"}})],1)]:t._e()],2),e(p.Z,[e(d.Z,{attrs:{cols:"2"}},[t._v("Эта проблема может быть с другими заготовками или артиклями")]),e(d.Z,{attrs:{cols:"4"}},[e(b.Z,{attrs:{outlined:"",dense:""},model:{value:t.qrciData.anotherArticle,callback:function(e){t.$set(t.qrciData,"anotherArticle",e)},expression:"qrciData.anotherArticle"}})],1),e(d.Z,{attrs:{cols:"2"}},[t._v("Место и причины НЕОБНАРУЖЕНИЯ несоответствия")]),e(d.Z,{attrs:{cols:"4"}},[e(b.Z,{attrs:{outlined:"",dense:""},model:{value:t.qrciData.place,callback:function(e){t.$set(t.qrciData,"place",e)},expression:"qrciData.place"}})],1)],1),e(p.Z,[e(d.Z,{attrs:{cols:"2"}},[t._v("Коренные причины ВОЗНИКНОВЕНИЯ несоответствия")]),e(d.Z,{attrs:{cols:"10"}},[e(b.Z,{attrs:{outlined:"",dense:""},model:{value:t.qrciData.rootCause,callback:function(e){t.$set(t.qrciData,"rootCause",e)},expression:"qrciData.rootCause"}})],1)],1)],1),e(u.Z,{staticClass:"elevation-1"},[e(ht.Z,{attrs:{"align-with-title":""}},[e(bt.Z,[t._v("ПРОТОКОЛ")]),e(bt.Z,[t._v("5WHY")])],1)],1),e(u.Z,{staticClass:"elevation-1"},[e(p.Z,{staticStyle:{margin:"10px 0 0 0"}},[t.showInputRow?t._e():e(c.Z,{staticClass:"mx-auto",on:{click:function(e){t.showInputRow=!0}}},[t._v("+ДОБАВИТЬ")]),t.showInputRow?e(c.Z,{staticClass:"mx-auto",on:{click:function(e){return t.pushNewRow()}}},[t._v("СОХРАНИТЬ")]):t._e()],1),t.showInputRow?e(p.Z,[e(p.Z,[e(d.Z,{attrs:{cols:"4"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Тема"},model:{value:t.newRow.theme,callback:function(e){t.$set(t.newRow,"theme",e)},expression:"newRow.theme"}})],1),e(d.Z,{attrs:{cols:"4"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Действие"},model:{value:t.newRow.action,callback:function(e){t.$set(t.newRow,"action",e)},expression:"newRow.action"}})],1),e(d.Z,{attrs:{cols:"4"}},[e(V.Z,{attrs:{outlined:"",dense:"",items:t.userName,"item-text":"name","item-value":"idUser"},model:{value:t.newRow.responsible,callback:function(e){t.$set(t.newRow,"responsible",e)},expression:"newRow.responsible"}})],1)],1),e(p.Z,[e(d.Z,{attrs:{cols:"2"}},[e("CalendarLine",{model:{value:t.newRow.date,callback:function(e){t.$set(t.newRow,"date",e)},expression:"newRow.date"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"%"},model:{value:t.newRow.percent,callback:function(e){t.$set(t.newRow,"percent",e)},expression:"newRow.percent"}})],1),e(d.Z,{attrs:{cols:"2"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Статус"},model:{value:t.newRow.status,callback:function(e){t.$set(t.newRow,"status",e)},expression:"newRow.status"}})],1),e(d.Z,{attrs:{cols:"6"}},[e(b.Z,{attrs:{outlined:"",dense:"",label:"Примечание/Результат"},model:{value:t.newRow.comment,callback:function(e){t.$set(t.newRow,"comment",e)},expression:"newRow.comment"}})],1)],1)],1):t._e(),e(p.Z,[e(d.Z,{attrs:{cols:"12"}},[e(G.Z,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.qrciData.qrciRows,"items-per-page":20},scopedSlots:t._u([{key:"item.percent",fn:function({item:a}){return[e(kt.Z,{attrs:{height:"25"},model:{value:a.percent,callback:function(e){t.$set(a,"percent",e)},expression:"item.percent"}},[e("strong",[t._v(t._s(Math.ceil(a.percent))+"%")])])]}},{key:"item.actions",fn:function({item:a}){return[e(qt.Z,{attrs:{width:"500px"},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return[e(_.Z,t._g({staticClass:"mr-2",staticStyle:{"margin-right":"10px"},attrs:{small:""},on:{click:function(e){t.numStr=a.id}}},o),[t._v(" mdi-file-image-plus-outline ")])]}}],null,!0),model:{value:t.photoDialog,callback:function(e){t.photoDialog=e},expression:"photoDialog"}},[e(m.Z,[e("label",[t._v("File "),e("input",{ref:"file",attrs:{type:"file",id:"file"},on:{change:function(e){return t.handleFileUpload()}}})]),e(c.Z,{on:{click:function(e){return t.submitFile()}}},[t._v("Загрузить")])],1)],1),e(_.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v(" mdi-pencil ")])]}}])})],1)],1),e(p.Z,[e(At.Z,t._l(t.photos,(function(t,a){return e(Nt.Z,{key:a,attrs:{src:t,"reverse-transition":"fade-transition",transition:"fade-transition"}})})),1)],1),e(p.Z,[e($.Z),e(d.Z,{attrs:{cols:"2"}},[e(c.Z,{on:{click:function(e){return t.saveQRCI()}}},[t._v("СОХРАНИТЬ")])],1),e($.Z),e(d.Z,{attrs:{cols:"2"}},[e(c.Z,[t._v("ОТМЕНИТЬ")])],1),e($.Z)],1)],1)],1)},Ot=[],Ut={data(){return{photoDialog:!1,date:null,file:"",users:[],menu:!1,models:[],showInputRow:!1,indexModel:1,problemIndex:0,numStr:0,problemText:"",problems:[{name:"Прочее",id:0},{name:"NRFT",id:1},{name:"KU",id:2},{name:"CAD",id:3},{name:"Качество",id:4}],KUProblems:[{name:"аварийный простой",id:0},{name:"настройка линии",id:1},{name:"переход",id:2}],departments:[{name:"Закаленное стекло",idDepart:0},{name:"Триплекс",idDepart:1},{name:"ARG",idDepart:2},{name:"AVO",idDepart:3},{name:"БРЛ-6",idDepart:4},{name:"Тех. обслуживание",idDepart:5}],headers:[{text:"Тема",align:"center",value:"theme"},{text:"Действия",align:"center",value:"action"},{text:"Ответственный",align:"center",value:"responsible"},{text:"Дата",align:"center",value:"date"},{text:"Выполнение",align:"center",value:"percent"},{text:"Статус",align:"center",value:"status.title"},{text:"Коментарий",align:"center",value:"comment"},{text:"Действие",align:"center",value:"actions"}],newRow:{id:"",theme:"",action:"",responsible:"",date:"",percent:"",status:"",comment:"",status:{title:"В работе",index:0},photos:[],newPhotos:[]},qrciData:{department:"",number:"",dateOpen:"",lider:"",team:"",sponsor:"",problemClassification:"",problem:{problemIndex:1,problemData:{model:"",article:"",place:"",defect:"",quantity:"",time:"",downtime:"",problemText:""}},anotherArticle:"",place:"",rootCause:"",qrciRows:[],dateClose:""}}},mounted(){s().get("http://localhost:8000/Users").then((t=>this.users=t.data)),s().get("http://localhost:8000/Models").then((t=>this.models=t.data)),s().get("http://localhost:8000/Quality/Department/"+this.$route.params.depart+"/QRCI/"+this.$route.params.id).then((t=>this.qrciData=t.data))},beforeUpdate(){},methods:{saveQRCI(){0===this.qrciData.problemClassification.id?this.qrciData.problem.problemData.problemText=this.problemText:1===this.qrciData.problemClassification.id?this.qrciData.problem.problemData.problemText=this.models[this.qrciData.problem.problemData.model-1].model+" "+this.qrciData.problem.problemData.article+" "+this.qrciData.problem.problemData.defect+" на участке "+this.qrciData.problem.problemData.place+" в количестве "+this.qrciData.problem.problemData.quantity+"шт":2===this.qrciData.problemClassification.id?this.qrciData.problem.problemData.problemText=this.KUProblems[this.qrciData.problem.problemData.downtime].name+" на участке "+this.qrciData.problem.problemData.place+" в количестве "+this.qrciData.problem.problemData.time+" мин.":3===this.qrciData.problemClassification.id?this.qrciData.problem.problemData.problemText="Низкая производительность на "+this.models[this.qrciData.problem.problemData.model-1].model+" "+this.qrciData.problem.problemData.article:4===this.qrciData.problemClassification.id&&(this.qrciData.problem.problemData.problemText=this.models[this.qrciData.problem.problemData.model-1].model+" "+this.qrciData.problem.problemData.article+" "+this.qrciData.problem.problemData.defect+" в количестве "+this.qrciData.problem.problemData.quantity+"шт"),s().post("http://localhost:8000/Quality/Department/"+this.$route.params.depart+"/QRCI/"+this.$route.params.id,this.qrciData)},pushNewRow(){""!=this.newRow.id?this.qrciData.qrciRows[this.newRow.id]=this.newRow:0===this.newRow.id?this.qrciData.qrciRows[0]=this.newRow:(this.newRow.id=this.qrciData.qrciRows.length,this.qrciData.qrciRows.push(this.newRow)),this.newRow={id:"",theme:"",action:"",responsible:"",date:"",percent:"",status:"",comment:"",status:{title:"В работе",index:0},photos:[],newphotos:[]},this.showInputRow=!1},submitFile(){let t=new FormData;void 0!=this.qrciData.qrciRows[this.numStr].newPhotos||(this.qrciData.qrciRows[this.numStr].newPhotos=[]),this.qrciData.qrciRows[this.numStr].newPhotos.push({row:this.numStr,title:this.file.name}),t.append("file",this.file),s().post("http://localhost:8000/single-file",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){console.log("SUCCESS!!")})).catch((function(){console.log("FAILURE!!")})),this.file="",this.photoDialog=!1},handleFileUpload(){this.file=this.$refs.file.files[0]},editItem(t){this.newRow=t,this.showInputRow=!0}},computed:{userName(){let t=[];return this.users.forEach((e=>{t.push({name:e.sirname+" "+e.name,id:e.idUser})})),t},photos(){let t=[];return this.qrciData.qrciRows.forEach((e=>{e.photos.forEach((e=>{let a=e.title.split(".");t.push("http://localhost:8000/getImage/"+a[0])}))})),console.log(t),t}},components:{CalendarLine:at}},Qt=Ut,Ft=(0,Z.Z)(Qt,Bt,Ot,!1,null,null,null),Kt=Ft.exports;o.ZP.use(K.ZP);const Vt=[{path:"/Maitanence/workList",name:"Maitanence",component:ut},{path:"/Logistic/AVOPlaning",name:"AVOPlaning",component:xt},{path:"/Quality/BlankQRCI",name:"BlankQRCI",component:yt},{path:"/Quality/ListQRCI",name:"ListQRCI",component:Mt},{path:"/Quality/Department/:depart/QRCI/:id",name:"QRCI",component:Kt},{path:"/*",name:"NotUsedPath",component:ut}],Gt=new K.ZP({mode:"history",base:"/",routes:Vt});var Et=Gt,jt=a(14);o.ZP.use(jt.ZP);var Wt=new jt.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),zt=a(1705);o.ZP.use(zt.Z);var Ht=new zt.Z({});o.ZP.config.productionTip=!1,new o.ZP({router:Et,store:Wt,vuetify:Ht,render:t=>t(F)}).$mount("#app")},9815:function(t,e,a){t.exports=a.p+"img/LogoAGC.fecee429.png"}},e={};function a(o){var l=e[o];if(void 0!==l)return l.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,o,l,i){if(!o){var n=1/0;for(m=0;m<t.length;m++){o=t[m][0],l=t[m][1],i=t[m][2];for(var r=!0,s=0;s<o.length;s++)(!1&i||n>=i)&&Object.keys(a.O).every((function(t){return a.O[t](o[s])}))?o.splice(s--,1):(r=!1,i<n&&(n=i));if(r){t.splice(m--,1);var c=l();void 0!==c&&(e=c)}}return e}i=i||0;for(var m=t.length;m>0&&t[m-1][2]>i;m--)t[m]=t[m-1];t[m]=[o,l,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,o){var l,i,n=o[0],r=o[1],s=o[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(l in r)a.o(r,l)&&(a.m[l]=r[l]);if(s)var m=s(a)}for(e&&e(o);c<n.length;c++)i=n[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(m)},o=self["webpackChunkagc_aux_sys"]=self["webpackChunkagc_aux_sys"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(8503)}));o=a.O(o)})();
//# sourceMappingURL=app.7af8e61d.js.map